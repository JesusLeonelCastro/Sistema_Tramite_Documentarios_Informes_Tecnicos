@{
    ViewBag.Title = "Index";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Referer of a Website - Apache ECharts Demo</title>
</head>


<body>



    <div class="container">
        <div class="row">
            <!-- Gráfico Total de Informes -->
            <div class="col-md-6">
                <div class="card shadow-none border my-4">
                    <div class="card-header p-4 border-bottom bg-body">
                        <center>
                            <h4>Total de Informes</h4>
                        </center>
                    </div>
                    <div id="chart-container1" style="width: 100%; height: 500px;"></div>
                </div>
            </div>

            <!-- Gráfico Total de Áreas -->
            <div class="col-md-6">
                <div class="card shadow-none border my-4">
                    <div class="card-header p-4 border-bottom bg-body">
                        <center>
                            <h4>Total de Áreas</h4>
                        </center>
                    </div>
                    <div id="chart-container2" style="width: 100%; height: 500px;"></div>
                </div>
            </div>

            <!-- Gráfico Total de Informes por areas -->
            <div class="col-md-6">
                <div class="card shadow-none border my-4">
                    <div class="card-header p-4 border-bottom bg-body">
                        <h5>Total de Áreas</h5>
                    </div>
                    <div id="chart-container3" style="width: 100%; height: 500px;"></div>
                </div>
            </div>
        </div>
    </div>



    <script src="https://fastly.jsdelivr.net/npm/echarts@5.5.1/dist/echarts.min.js"></script>


    <script>
    function initChart(containerId, total) {
        var dom = document.getElementById(containerId);
        var myChart = echarts.init(dom);

        var option = {
            title: {
                text: '',
                subtext: '',
                left: 'center'
            },
            tooltip: {
                trigger: 'item'
            },
            legend: {
                show: false
            },
            series: [
                {
                    name: 'Total de Informes',
                    type: 'pie',
                    radius: '50%',
                    data: [
                        { value: total, name: 'Informes' }
                    ],
                    emphasis: {
                        itemStyle: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }
            ]
        };

        myChart.setOption(option);

        window.addEventListener('resize', function () {
            myChart.resize();
        });
    }

    // Asegurarse de que totalInformes sea tratado como un número
    var totalInformes = parseInt(@Html.Raw(ViewBag.TotalInformes));

    // Inicializar el gráfico con el total de informes
    initChart('chart-container1', totalInformes);
    </script>


    <script>
    function initChart(containerId, total) {
        var dom = document.getElementById(containerId);
        var myChart = echarts.init(dom);

        var option = {
            title: {
                text: '',
                subtext: '',
                left: 'center'
            },
            tooltip: {
                trigger: 'item'
            },
            legend: {
                show: false
            },
            series: [
                {
                    name: 'Total de Areas',
                    type: 'pie',
                    radius: '50%',
                    data: [
                        { value: total, name: 'Areas' }
                    ],
                    emphasis: {
                        itemStyle: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }
            ]
        };

        myChart.setOption(option);

        window.addEventListener('resize', function () {
            myChart.resize();
        });
    }

    // Asegurarse de que totalInformes sea tratado como un número
    var totalAreas = parseInt(@Html.Raw(ViewBag.TotalAreas));

    // Inicializar el gráfico con el total de informes
    initChart('chart-container2', totalAreas);
    </script>



</body>
</html>
